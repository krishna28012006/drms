<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SMART DRAINAGE SYSTEM</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="font-sans">
    <div class="flex flex-col bg-white min-h-screen">
      <!-- Header/Navigation -->
      <header class="flex justify-between items-center px-6 w-full h-14 bg-white shadow-sm">
        <div class="flex gap-2.5 items-center">
          <h1 class="text-3xl text-black">SMART DRAINAGE SYSTEM</h1>
        </div>
        <nav class="flex items-center ml-auto max-sm:hidden">
          <ul class="flex items-center">
            <li class="px-6 text-sm text-gray-600 h-[52px] flex items-center">
              <a href="/dashboard.html">Dashboard</a>
            </li>
            <li class="px-6 text-sm text-gray-600 h-[52px] flex items-center">
              <a href="weather.html">Weather</a>
            </li>
            <li class="px-6 text-sm text-gray-600 h-[52px] flex items-center">
              <a href="awareness.html">Awareness</a>
            </li>
          </ul>
        </nav>
      </header>

      <main>
        <section class="flex flex-col items-center px-6 py-24 max-sm:px-4 max-sm:py-12">
          <h2 class="mb-6 text-3xl text-center text-zinc-900">Report Drainage Issues</h2>
          <p class="mb-6 text-base text-center text-gray-600 max-w-[800px]">
            To assist us in understanding and addressing your issue, please provide a clear description of the drainage problem, including details such as the exact location or address of the issue.
          </p>
          <form id="complaintForm" class="flex flex-col gap-5 w-full max-w-[400px]">
            <div class="flex flex-col gap-2">
              <label for="location" class="text-base text-black">
                Provide description about your complaint and address of problem occurrence:
              </label>
              <div class="flex items-center px-4 rounded-sm border border-neutral-300 h-[43px]">
                <input
                  type="text"
                  id="new_complaint"
                  placeholder="e.g., Blocked drain at 1234 Example Street"
                  class="w-full text-base text-neutral-300"
                  required
                />
              </div>
            </div>
           
            <button
              id="submit_complaint"
              type="submit"
              class="text-lg text-white bg-indigo-500 rounded h-[52px] w-[155px]"
            >
              Submit Report
            </button>
          </form>
          <div id="submissionMessage" class="mt-4 text-green-500 hidden"></div>
        </section>
      </main>
    </div>
    <script>
      document.getElementById('complaintForm').addEventListener('submit', async function(event) {
        event.preventDefault(); // Prevent default form submission

        const locationInput = document.getElementById('new_complaint').value.trim();
        const imageFile = document.getElementById('imageUpload').files[0];

        if (!locationInput) {
          alert('Please provide a complaint with the exact location.');
          return; // Prevent form submission
        }

        if (!imageFile) {
          alert('Please upload an image from the camera.');
          return; // Prevent form submission
        }

        // Here you would add your Firebase upload logic
        // For example:
        // const storageRef = storage.ref();
        // const imageRef = storageRef.child(`images/${imageFile.name}`);
        // await imageRef.put(imageFile);
        // const imageUrl = await imageRef.getDownloadURL();

        // Simulate successful submission
        document.getElementById('submissionMessage').innerText = 'Submitted successfully!';
        document.getElementById('submissionMessage').classList.remove('hidden');
      });
    </script>
  </body>
</html>
